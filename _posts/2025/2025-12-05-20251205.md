---
title: JekyllのDockerイメージ 2
date: 2025-12-05 21:00:00 +0900
categories: []
tags: [jekyll]
---

## Dockerfile

ローカルで使用するDockerイメージは、Jekyllのコマンドオプションをもう少し眺めて、以下のようになった。

```dockerfile
FROM ruby:3.4

RUN useradd -m -s /bin/bash mint

WORKDIR /work
USER mint

RUN gem install "html-proofer:~>5.0" "jekyll-theme-chirpy:~>7.4"

ENTRYPOINT ["bundle", "exec", "jekyll"]
CMD ["serve", "--host=0.0.0.0", "--future", "--drafts", "--livereload"]
```

`--drafts` は当初不要かと思ったものの、やはり `_drafts` で準備するのが良さそうだった。実行時は以下のようにする。

```console
docker run --rm -v ./:/work -p 4000:4000 -p 35729:35729 jekyll
```

当初は `127.0.0.1:35729` にアクセスしてリロードされない、とかやっていたのだけど、 `127.0.0.1:4000` でリロードされるのだった。
