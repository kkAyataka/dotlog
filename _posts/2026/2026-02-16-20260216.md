---
title: Astroのドキュメントを書く
date: 2026-02-16 17:00:00 +0900
categories: []
tags: [astro]
---

## Markdown/MDX/Markdoc

AstroとStarlightの環境ではMarkdownとMDX、拡張でMarkdocが使える。

* [Build your first Astro Blog](https://docs.astro.build/en/tutorial/0-introduction/)
* [Install from the CLI wizard](https://docs.astro.build/en/install-and-setup/#install-from-the-cli-wizard)

MDXを使うとAstroやStarlightが準備したコンポーネントが使えるため、かなりリッチな表現ができる。ただし、Markdownからはかけ離れるため、魅力的ではあるものの、ドキュメントサイトとしては使用場面は限られる。

## フロントマター

Jekyll等と同じく、フロントマターでメタデータを定義する。

* [Frontmatter Reference](https://starlight.astro.build/reference/frontmatter/)

`title` は必須。`lastUpdated` は最終更新日で `true` を指定するとGitから参照する。

`title` は `h1` となるため、本文は `##` （`h2`）からとするのが良い。

```markdown
---
title: タイトル（h1）
lastUpdated: 2026-02-28 # trueだとGitの値を使用する
sidebar:
  order: 3
---

## 本文の見出し（h2）
```

## Markdownのシンタックス

基本的な構文は大体使える。タスクリスト（ `* [ ] item` ）なども使えるが、GitHubと完全に同じというわけではない。

### シンタックスハイライト

Astroでは `Shiki` が採用されている。

* [Syntax Highlighting](https://docs.astro.build/en/guides/syntax-highlighting/)
* [Shiki](https://shiki.style)

対応している言語は以下を参照する。

* [Languages](https://shiki.style/languages)

少し変わった機能として言語IDに `shell` や `console` を指定するとコンソールの枠がレンダリングされる。

```console
# this text is not copied
echo Hello,
```

そして、このコードブロックのコピーボタンでは、コメント行はコピーされないといった振る舞いをする。

### 画像

画像の保存場所は特に決まっておらず、Markdownファイルと同じディレクトリにおいても動作する。Jekyllでは `assets` フォルダに配置する必要があったが、そういった制限はない。共通の置き場所は `src/assets` となる。

`src` 以下に設置した画像ファイルはドキュメントのビルド時に変換される場合がある[^1]。ビルド後の配置場所は `dist/_astro/` でPNGはWebPになる。

`public` 以下にもファイルを配置できるが、こちらはfaviconなどドキュメント以外に必要な静的ファイルを配置する。

[^1]: <https://docs.astro.build/ja/guides/images/#where-to-store-images>

### Alerts

CalloutsやAdmonitionsとも呼ばれる構文だが、Markdownでは対応しておらず、代替となる構文もない。

```markdown
> [!NOTE]
> 非対応
```

使用したい場合は `MDX` か `Markdoc` での記述が必要で、`MDX` では `Aside` を使う。

* [Asides](https://starlight.astro.build/components/asides/)

```
import { Aside } from '@astrojs/starlight/components';
<Aside type="caution">警告</Aside>
```
